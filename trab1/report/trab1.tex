\documentclass[a4paper,10pt,onecolumn]{article}

\usepackage{url}
\usepackage{amsmath} 
\usepackage{amsthm} 
\usepackage{amssymb}
\usepackage[utf8]{inputenc}
\usepackage[brazil]{babel}
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{tkz-graph}
\usetikzlibrary{matrix,arrows,decorations.pathmorphing}
\usepackage{pdflscape}
\usepackage{afterpage}
\usepackage{tabularx}
\usepackage[a4paper]{geometry}

\usepackage{listings}

\lstset{
  language=Python,
  basicstyle=\footnotesize,
  otherkeywords={self},
  captionpos=t,
  extendedchars=true, 
  frame=single,	  
  tabsize=4,	    
  title=\lstname,
  showstringspaces=false  
}


\newtheorem{defi}{Definição} 
\newtheorem{axioma}{Axioma}
\newtheorem{post}{Postulado} 
\newtheorem{prop}{Proposição}
\newtheorem{propri}{Propriedade}
\newtheorem{lem}{Lema} 
\newtheorem{theo}{Teorema}

\author{Rodrigo Mosconi}
\title{Linear Ordering Problem}
\date{16 de Maio de 2016}

\makeindex
\begin{document}

\maketitle
\tableofcontents

\section{Problema}

O problema de ordenação linear de um grafo direcionado $G=(V,E)$, sendo $V$ o
conjunto dos vértices e $E \subseteq V\times V$ o conjunto de arestas $(i,j)$
direcionadas de com custo $c_{ij}$, consiste em determinar uma permutação da
ordem dos vértices que maximize o custo das arestas diretas, ou não-reversas.

\section{Modelagem do problema}

O modelo para resolver este problema usa as seguintes premissas:
\begin{enumerate}
\item Toda aresta $(i,j)$ existente possui custo $c_{ij}>0$
\item As arestas não existentes possuem custo $0$
\item Não existe auto arestas, isto é, não existe arestas $(i,i)$
\end{enumerate}

Observando o problema sob a ótica da teoria de grupos, em especial, os grupos
de permutações $S_n$, onde $n$ é o número de vértices, é possível,
matematicamente, mapear a relação entre todos as permutações possíveis.
Entretanto, computacionalmente, pode não ser possível explorar todos as $n!$
permutações.  

Neste problema serão utilizadas heurísticas visando obter a melhor solução
possível e uma das premissas para as heurísticas é uma restrição na área de
procura.

A função objetivo associada ao  grafo $G=(V,E)$, em uma determinada ordem $\pi$:

\begin{equation}
  f(\pi)=\sum^n_{i=1}\sum^n_{j=i+1}c_{\pi_i\pi_j}
\end{equation}

Esta função é a soma do triangulo superior de uma matrz quadrada $n\times n$
dos custos associados das arestas.

\subsection{Teoria de grupos de permutações}

Um grupo $(G,\cdot)$ é caracterizado como um conjunto $G$ de elementos e uma
operação $\cdot$ fechada entre estes elementos:

\begin{align*} G \times G & \rightarrow G \\ (a,b) & \mapsto a \cdot b
\end{align*}

  Este par de conjunto e operação deve satisfazer as propriedades:
\begin{enumerate}
\item A operação é associativa:\\
  $$ a \cdot ( b \cdot c) = ( a \cdot b) \cdot c \qquad \forall a,b,c \in G$$
\item Existe um e elemento neutro:\\
  $$ \exists e \in G, \textrm{ tal que }\, e \cdot a = a \cdot e = a \qquad \forall a \in G $$
\item Todo elemento possui um elemento inverso:\\
  $$ \forall a \in G, \exists b \in G,\textrm{ tal que }\, a \cdot b = b \cdot a = e $$
\end{enumerate}

Quando não houver ambiguidade, o grupo $(G,\cdot)$ será denotado apenas por
$G$ e a operação $a\cdot b$ será denotada por $ab$.

Das propriedades anteriores, pode-se deduzir que o elemento neutro é único e o
elemento inverso de $a \in G$ também é único.  O inverso de $a$ será denotado
por $a^{-1}$.

Um subconjunto $H$ de $G$ é um subgrupo de $(G,\cdot)$, denotado por $H < G$,
se também é grupo $(H,\cdot)$, sendo $\cdot$ a mesma operação.

Defini-se como \emph{ordem} de um grupo $G$ como o números de elementos em
$G$.  De forma análoga, a orderm de um subgrupo $H$ é o número de elementos de $H$.

Um grupo de permutações é definido como um grupo composto por um conjunto de
funções $Bij(C) = \{ f:C \rightarrow C| f \textrm{ é bijeção}\}$, sendo $C$
finito com $n$ elementos. A operação do grupo é a composição de funções
$\circ$.  Este grupo será denotado por $S_n$, e também é chamado de grupo
simétrico. A ordem deste grupo é $n!$.

Os elementos do conjunto do grupo $S_n$ podem ser representados na forma:

\begin{displaymath} \sigma= \bigl(
    \begin{smallmatrix} 1 & 2& 3& \cdots &n-1 &n \\ f(1) & f(2)& f(3)& \cdots
&f(n-1) &f(n) \\
    \end{smallmatrix} \bigr)
\end{displaymath}

Um elemento $\sigma$ é chamado de \emph{r-ciclo} de existem elementos
distintos $a_1,a_2,a_3,\dots,a_r \in \{1,2,3,\dots, n\}$ tais que:
\begin{enumerate}
\item{$\sigma(a_i) = a_{i+1}$ para $1 \leq i < r$;}
\item{$\sigma(a_r) = a_1$}
\item{$\sigma(b)=b$ para $b \in \{1,2,3,\dots, n\} \setminus
\{a_1,a_2,a_3,\dots,a_r\} $}
\end{enumerate}

Os $r-ciclos$ podem ser representados como $(a_1,a_2,a_3,\dots,a_r)$ e o
número $r$ é o comprimento do ciclo.  Os $2-ciclos$ também são chamados de
transposição.

Seja um $r-ciclo$ e um $s-ciclo$ quaisquer $\sigma-1,\sigma-2$ são ditos
disjuntos se para todos os elementos $a \in \{1,2,3,\dots, n\}$ tem-se que
$\sigma_1(a)=a $ ou $\sigma_2(a)=a$.  Em particular, para permutações
disjuntas, vale a propriedade comutativa, isto é: $\sigma_1 \circ \sigma_2 =
\sigma_2 \circ \sigma_1$.

Qualquer elemento de $S_n$ é resultado da composição de transposições.

\section{Heurísticas}

Com base na teoria dos grupos de permutações, 

\subsection{Solução inicial}

\subsection{Local Search}

\subsection{Iterated Local Search}

\section{Experimentos}

\section{Resultados}

\afterpage{
\clearpage
\thispagestyle{empty} 
\begin{table}[htbp]
  \noindent
  \centering
  \footnotesize
  \begin{tabular}{|c|c|ccccc|ccccc|}
    \hline 
    & & 
    \multicolumn{5}{c|}{Método 2} &
    \multicolumn{5}{c|}{Método 4} \\
    Nome da & Melhor valor & 
    && \multicolumn{3}{c|}{Tempo (s)} &
    && \multicolumn{3}{c|}{Tempo (s)} \\
    instância &  conhecido & 
    Resultado & gap(\%) & médio & máx & min &
    Resultado & gap(\%)  & médio & máx & min 
\\
    \hline
    N-be75eec & 236464 & 
    215641 & 8 & 2.06 & 2.38 & 1.95 &
    202257 & 14 & 0.72 & 0.57 & 0.79 
\\
    N-be75np & 716994 & 
696906 & 2.80 & 5.86   & 6.11  & 5.73 &
672690 & 6.18 & 2.18   & 2.30  & 1.86 
\\
    N-be75oi & 111171 & 
106286 & 4.39 & 1.02   & 1.04  & 1.01 &
106245 & 4.43 & 0.84   & 1.05  & 0.76 
\\
    N-be75tot & 980516 &
 941541 & 3.97 & 11.53   & 12.04  & 11.30  &
918895 & 6.28 & 6.07   & 6.95  & 5.51 
\\
    N-stabu70 & 362512 & 
327607 & 9.63 & 5.15   & 5.41  & 5.09 &
327607 & 9.63 & 7.14   & 7.33  & 7.05 
\\
    N-stabu74 & 541393 &
509895 & 5.82 & 9.61   & 9.73  & 9.52 &
476302 & 12.02 & 2.48   & 2.54  & 2.45 
\\
    N-stabu75 & 553303 &
511134 & 7.62 & 8.25   & 8.36  & 8.17 &
511134 & 7.62 & 11.30   & 11.45  & 11.04 
\\
    N-t59b11xx & 209320 &
195055 & 6.81 & 0.82   & 0.89  & 0.80 &
195055 & 6.81 & 0.83   & 0.85  & 0.82
\\
    N-t59d11xx & 147353 &
142310 & 3.42 & 3.47   & 3.89  & 3.29 &
142310 & 3.42 & 3.33   & 3.39  & 3.29
\\
    N-t59f11xx & 122520 &
118043 & 3.65 & 4.86   & 5.01  & 4.69 
&
117637 & 3.99 & 2.89   & 2.96  & 2.82 
\\
    N-t59i11xx & 8261545 &
8030372 & 2.80 & 2.46   & 2.61  & 2.39
&
8030372 & 2.80 & 2.52   & 2.63  & 2.49 
\\
    N-t59n11xx & 20928 &
20424 & 2.41 & 2.04   & 2.15  & 2.01&
19320 & 7.68 & 0.33   & 0.37  & 0.32 
\\
    N-t65b11xx & 356758 &
351676 & 1.42 & 15.36   & 15.90  & 15.10 &
350045 & 1.88 & 9.56   & 9.89  & 9.39
\\
    N-t65d11xx & 237739 &
228160 & 4.03 & 1.21   & 1.43  & 1.18 &
225217 & 5.27 & 0.57   & 0.57  & 0.56 
\\
    N-t65f11xx & 217295 &
212992 & 1.98 & 3.65   & 3.82  & 3.57 
&
212992 & 1.98 & 3.59   & 3.62  & 3.57 
\\
    N-t65i11xx & 14469163 &
14097638 & 2.57 & 4.12   & 4.73  & 3.99 
&
14097638 & 2.57 & 4.10   & 4.22  & 4.05 

\\
    N-t65l11xx & 16719 &
\\
    N-t65n11xx & 32157 &
\\
    N-t65w11xx & 138181029 &
\\
    N-t69r11xx & 771149 &
\\
    N-t70b11xx & 528419 &
\\
    N-t70d11xx & 376725 &
\\
    N-t70d11xxb & 366469 &
\\
    N-t70f11xx & 360336 &
\\
    N-t70i11xx & 24785782 &
\\
    N-t70k11xx & 60659200 &
\\
    N-t70l11xx & 25253 &
\\
    N-t70n11xx & 52704 &
\\
    N-t70u11xx & 21716400 &
\\
    N-t70w11xx & 224319954 &
\\
    N-t70x11xx & 283808865 &
\\
    N-t74d11xx & 566089 &
\\
    N-t75d11xx & 578304 &
\\
    N-t75e11xx & 2739219 &
\\
    N-t75i11xx & 63567735 &
\\
    N-t75k11xx & 108844 &
\\
    N-t75n11xx & 93777 &
\\
    N-t75u11xx & 52708323 &
\\
    N-tiw56n54 & 91554 &
\\
    N-tiw56n58 & 125224 &
\\
    N-tiw56n62 & 176715 &
\\
    N-tiw56n66 & 226547 &
\\
    N-tiw56n67 & 226033 &
\\
    N-tiw56n72 & 365147 &
255144 & 30.13 & 11.73   & 11.79  & 11.64 &
248982 & 31.81 & 3.55   & 3.75  & 3.46 
\\
    N-tiw56r54 & 102948 &
93924 & 8.77 & 10.11   & 10.27  & 10.01 &
87459 & 15.05 & 1.24   & 1.25  & 1.23 
\\
    N-tiw56r58 & 129568 &
119368 & 7.87 & 8.19   & 8.33  & 8.10 &
116847 & 9.82 & 5.40   & 5.48  & 5.33
\\
    N-tiw56r66 & 209491 &
200990 & 4.06 & 8.21   & 8.38  & 8.14 &
190782 & 8.93 & 2.77   & 2.86  & 2.73 
\\
    N-tiw56r67 & 222810 &
215782 & 3.15 & 15.58   & 15.87  & 15.44 &
209253 & 6.08 & 1.89   & 1.91  & 1.88 
\\
    N-tiw56r72 & 270663 &
255144 & 5.73 & 11.73   & 11.79  & 11.6 &
248982 & 8.01 & 3.55   & 3.75  & 3.46 
\\
    N-usa79 & 1813986 &
1669702 & 7.95 & 22.91   & 25.08  & 22.15 &
1547768 & 14.68 & 8.57   & 10.87  & 7.92 
\\

\hline
  \end{tabular}
  \caption{Instâncias IO}
\end{table}
\clearpage
}
\begin{table}[htbp]
  \noindent
  \footnotesize
  \centering
  \begin{tabular*}{\linewidth}{|c|c|ccccc|ccccc|}
    \hline 
    &  & 
    \multicolumn{5}{c|}{Método 2} &
    \multicolumn{5}{c|}{Método 4} \\
    Nome da & limites & 
    && \multicolumn{3}{c|}{Tempo (s)} &
    && \multicolumn{3}{c|}{Tempo (s)} \\
    &  conhecidos & 
    Resultado & gap(\%) & médio & máx & min &
    Resultado & gap(\%)  & médio & máx & min 
\\
    \hline
t1d100.01 & [106852,114468] &
96176 & 15.98 & 14.32   & 14.57  & 14.13 &
95332 & 16.72 & 7.71   & 7.88  & 7.57 \\
t1d100.02 & [105947,114077] &
94762 & 16.93 & 24.45   & 25.25  & 24.02
92464 & 18.95 & 4.58   & 4.67  & 4.53 \\
t1d100.03 & [109819,117843] &
98035 & 16.81 & 15.65   & 15.95  & 15.40
95305 & 19.13 & 2.95   & 3.04  & 2.90 \\
    \hline
  \end{tabular*}
  \caption{Instâncias RandA1}
\end{table}

\section{Conclusão}

\begin{thebibliography}{99}
\bibitem{materialaula} Thibaut Vidal, \emph{Material de Aula}, 2016

\bibitem{sakuraba2010} Celso S. Sakuraba and Mutsunori Yagiura,
\emph{Efficient local search algorithms for the linear ordering problem},
International Transactions In Operational Research, 2010

\bibitem{tommaso} Tommaso Schiavinotto and Thomas Stützle, \emph{The Linear
Ordering Problem: Instances, Search Space Analysis and Algorithms}, Journal of
Mathematical Modelling and Algorithms, 2004

\bibitem{algebra} Arnaldo Garcia and Yves Lequain, \emph{Elementos de
Álgebra}, IMPA, 2005


\end{thebibliography}

\end{document}


% HW: AMD A10 4.1 GHz 
% SO: linux ubuntu 14.04 LTS
% PL: python 2.7
